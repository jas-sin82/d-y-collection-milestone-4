{% extends "base.html" %}
{% load static %}

{% block content %}
<!--hero image-->
<header class="img-hero text-center">
    <div class="container-fluid ">
        <div class="row">
            <div class="col-12   ">
                <img src="{% static 'images/hero-image-4.png' %}" class="d-block w-100 img-fluid " alt="Fashion Image">
            </div>
            <div class="main-box-heading text-center ">
                <h1 class="title-owner "> David & Yenny</h1>
                <h3 class="slogan mt-lg-4 mt-md-3 mt-sm-3">Boutique Fashion</h3>
                <a class="shop-button btn btn-dark mt-lg-4 mt-md-4 mt-sm-4" href="{% url 'products' %}">Shop Now</a>
            </div>
        </div>
    </div>
</header>
<section class=" text-center mt-lg-5  mt-md-4 mt-sm-4 ">
    <div class="container">
        <div class="row">
            <div class="col-12 ">
                <h2 class=" heading"> New Arrivals<span class="badge">New</span></h2>
            </div>
        </div>
    </div>
</section>
<!--flickity carousel-->
<section>
    <div class="carousel mt-lg-4  mt-md-4" data-flickity='{ "wrapAround": "true", "imagesLoaded": "true"}'>
        {% for product in products %}
        <div class="carousel-cell">
            <div class="card h-100 m-2 card-border" style="width: 18rem;">
                {% if product.image_a %}
                <a href=" {% url 'product_detail' product.id %}">
                    <img class="card-img-top " src="{{ product.image_a.url }}" alt="{{ product.name }}">
                    <div class="badge bg-success text-white position-absolute" style="top: 0.5rem; right: 0.5rem">
                        New</div>
                </a>
                {% else %}
                <a href="{% url 'product_detail' product.id %}">
                    <img class="card-img-top " src="{{ MEDIA_URL }}noimage.png" alt="{{ product.name }}">
                </a>
                {% endif %}
                <div class="card-body text-center small  pb-0">
                    <p class="mb-0">{{ product.name }}</p>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</section>
<!--men's and women's collection section"-->
<section>
    <div class="container text-center  ">
        <div class="row mt-lg-5 mt-md-4 mt-sm-4 ">
            <div class="col-12 ">
                <h2 class=" heading-1 "> D & Y Collection </h2>
            </div>
        </div>
    </div>
</section>
<section class="img-hero-1  text-center">
    <div class="container-fluid ">
        <div class="row mt-lg-5 mt-md-4 mt-sm-4">
            <div class="col-md-6 p-0 ">
                <a href="{% url 'products' %}?category=t-shirts&gender=m">
                    <img src="{% static 'images/men-tshirt-10.jpg' %}" class="d-block w-100  mens-dress "
                        alt="Men's Fashion">
                </a>
            </div>
            <div class="main-box-heading-1 text-center">
                <h1 class="title-owner-1 ">Exclusive Fashion </h1>
                <h3 class="slogan-1 mt-lg-4 ">Men's Fashion</h3>
                <a class="shop-button-2 btn btn-dark mt-lg-4 mt-md-4 mt-sm-4"
                    href="{% url 'products' %}?gender=m">Men's</a>
            </div>
            <div class="col-md-6 p-0 ">
                <a href="{% url 'products' %}?category=blouse&gender=f">
                    <img src="{% static 'images/women-top-55.jpg' %}" class="d-block w-100  summer-dress"
                        alt="Women Fashion">
                </a>
            </div>
            <div class="main-box-heading-2 text-center ">
                <h1 class="title-owner-2 ">Best Collection</h1>
                <h3 class="slogan-2 mt-lg-4">Women's Fashion</h3>
                <a class="shop-button-3 btn btn-dark mt-lg-4 mt-md-4 mt-sm-4"
                    href="{% url 'products' %}?gender=f">Women's</a>
            </div>
        </div>
    </div>
</section>
<!--brand section------>
<div class="container brands text-center ">
    <h2 class="text-center  mb-5">
        Our Best Brands
    </h2>
    <div class="row justify-content-center">
        <div class=" col-3 ">
            <a href="{% url 'products' %}?brand=gant">
                <img class="brand-img card-img-top img-fluid rounded-circle " src="{% static 'images/gant-logo.png' %}"
                    alt="gant Logo">
            </a>
        </div>
        <div class=" col-3 ">
            <a href="{% url 'products' %}?brand=david_yenny">
                <img class="brand-img card-img-top" src="{% static 'images/logo-d-y.jpg' %}" alt="D & Y Logo">
            </a>
        </div>
        <div class=" col-3 ">
            <a href="{% url 'products' %}?brand=polo_ralph_lauren">
                <img class="brand-img card-img-top" src="{% static 'images/polo.jpg' %}" alt="polo Logo">
            </a>
        </div>
        <div class=" col-3 ">
            <a href="{% url 'products' %}?brand=tommy">
                <img class="brand-img card-img-top" src="{% static 'images/tomy.png' %}" alt="tommy Logo">
            </a>
        </div>
    </div>
</div>
<!--christmas sale timer -->
<section>
    <div class="container-fluid sale-section mt-5 mb-5">
        <div class="row">
            <div class="col-12">
                <img src=" {% static 'images/christmas-sale-1.jpg' %}" class="d-block w-100 christmas-sale"
                    alt="christmas-image">
                <div class=" sale-text">
                    <div class="coming-soon">
                        <h2>Coming Soon ! </h2>
                        <h2 class="mt-3"> Christmas Sale !</h2>
                        <h2 id="sale-start" class="  mb-3 ">days </h2>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block postloadjs %}

<script>
    // Flickity  the carousel element

    var elem = document.querySelector('.carousel');
    var flkty = new Flickity(elem, {

        contain: true,
        freeScroll: true,
        wrapAround: true,
        prevNextButtons: false,
        pageDots: false,
        autoPlay: true,
        pauseAutoPlayOnHover: true

    });

    // credit goes to  https://www.w3schools.com/howto/howto_js_countdown.asp

    // setting a date to counting down
    var countDownDate = new Date("Dec 24, 2021 00:00:00").getTime();
    var x = setInterval(function () {

        // Get present date and time
        var now = new Date().getTime();

        // Find the distance between now and the count down date
        var distance = countDownDate - now;

        // Time calculations for days, hours, minutes and seconds
        var days = Math.floor(distance / (1000 * 60 * 60 * 24));
        var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        var seconds = Math.floor((distance % (1000 * 60)) / 1000);

        // Display the result in an element with id="sale-start"
        document.getElementById("sale-start").innerHTML = days + "d " + hours + "h " +
            minutes + "m " + seconds + "s ";

        // when the count down is finished
        if (distance < 0) {
            clearInterval(x);
            document.getElementById("sale-start").innerHTML = "Sale starts Now! Last Day 31st Dec 2021";
        }
    }, 1000);
</script>

{% endblock %}